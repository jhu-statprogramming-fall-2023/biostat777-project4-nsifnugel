"0",""
"0","total_using_public_transportation <- c(""B08301_010E"")"
"0","total_commuting <- c(""B08301_001E"")"
"0","by_earnings <- c(""B08119_029E"",""B08119_030E"",""B08119_031E"",""B08119_032E"",""B08119_033E"",""B08119_034E"",""B08119_035E"",""B08119_036E"")"
"0","by_vehicles <- c(""B08141_017E"",""B08141_018E"",""B08141_019E"",""B08141_020E"")"
"0",""
"0","variables <- c(total_using_public_transportation, total_commuting,by_earnings,by_vehicles)"
"0",""
"0","boston <- c(02101:02137, 02163,02199,02203,02205,02208,02209,02215,02222,02228,02283,02284,02455)"
"0",""
"0","new_york <- read_html(""https://www.nycbynatives.com/nyc_info/new_york_city_zip_codes.php"") %>%  "
"0","  html_elements("".grippy-host , td:nth-child(4) , td:nth-child(1)"") %>% "
"0","  html_text2() %>% "
"0","  c() %>% "
"0","  as.numeric()"
"0",""
"0","philadelphia <- read_html(""https://www.ciclt.net/sn/clt/capitolimpact/gw_ziplist.aspx?FIPS=42101"") %>%  "
"0","  html_elements(""td td td:nth-child(1) a"") %>% "
"0","  html_text2() %>% "
"0","  c() %>% "
"0","  as.numeric()"
"0",""
"0","dc <- read_html(""https://www.ciclt.net/sn/clt/capitolimpact/gw_ziplist.aspx?FIPS=11001&stfips=&state=DC&stname="") %>%  "
"0","  html_elements(""td td td:nth-child(1) a"") %>% "
"0","  html_text2() %>% "
"0","  c() %>% "
"0","  as.numeric()"
"0",""
"0","zipcodes <- c(boston,new_york,philadelphia,dc)"
"0",""
"0",""
"0","if (!dir.exists(here(""~/Desktop/data""))) {"
"0","  dir.create(here(""~/Desktop/data""))"
"0","}"
"0",""
"0","if (any(!file.exists(here(""~/Desktop/data"", ""ACS_2020_transportation.RDS"")))) {"
"0","  ACS_2020_transportation <- get_acs("
"0","    geography = ""zcta"" ,"
"0","    variables = variables,"
"0","    year = 2020,"
"0","    geometry = TRUE,)"
"0","  saveRDS(ACS_2020_transportation, file = here(""~/Desktop/data"",""ACS_2020_transportation.RDS""))"
"0","} else {ACS_2020_transportation <- readRDS(here(""~/Desktop/data"",""ACS_2020_transportation.RDS""))"
"0","}"
"0",""
"0",""
"0","ACS_2020_transportation_filtered <- ACS_2020_transportation %>% "
"0","  mutate(variable = as_factor(variable),"
"0","         population = fct_collapse(variable,"
"0","                                   total_commuting = ""B08301_001"","
"0","                                   total_pt = ""B08301_010"","
"0","                                   no_cars = ""B08141_017"","
"0","                                   one_car = ""B08141_018"","
"0","                                   two_cars = ""B08141_019"","
"0","                                   three_cars = ""B08141_020"","
"0","                                   income_10k = ""B08119_029"","
"0","                                   income_10k_25k = c(""B08119_030"", ""B08119_031""),"
"0","                                   income_25k_50k = c(""B08119_032"",""B08119_033""),"
"0","                                   income_50k_75k = c(""B08119_034"",""B08119_035""),"
"0","                                   income_75k = ""B08119_036""),"
"0","         zipcode_dbl = as.double(GEOID)) %>% "
"0","  filter(zipcode_dbl %in% zipcodes) %>% "
"0","  mutate(city = case_when("
"0","    zipcode_dbl %in% boston ~ ""Boston"","
"0","    zipcode_dbl %in% dc ~ ""DC"","
"0","    zipcode_dbl %in% new_york ~ ""New York"","
"0","    zipcode_dbl %in% philadelphia ~ ""Philadelphia"""
"0","  ))"
"0",""
